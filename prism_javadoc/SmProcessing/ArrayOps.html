<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_212) on Tue Nov 12 13:26:26 PST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ArrayOps (PRISM javadoc)</title>
<meta name="date" content="2019-11-12">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ArrayOps (PRISM javadoc)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9,"i22":9,"i23":9,"i24":9,"i25":9,"i26":9,"i27":9,"i28":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ArrayOps.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../SmProcessing/AICEventDetect.html" title="class in SmProcessing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../SmProcessing/ArrayStats.html" title="class in SmProcessing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?SmProcessing/ArrayOps.html" target="_top">Frames</a></li>
<li><a href="ArrayOps.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">SmProcessing</div>
<h2 title="Class ArrayOps" class="title">Class ArrayOps</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>SmProcessing.ArrayOps</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ArrayOps</span>
extends java.lang.Object</pre>
<div class="block"><p>
 The ArrayOps class contains static methods to perform various operations on
 an input array.  For trend removal operations, the input array is
 modified in place.  For integration and differentiation, a new array is
 created with the calculated values.  A method to make an array of time
 values for a given time step is also included.
 </p>
 <p>
 The constructor for this class is private, and the "static factory" methods
 are called directly with the class name without object creation, such as 
 ArrayOps.removeValue(array, mean).
 </p>
 <p>
 The linear and polynomial trend methods utilize the apache commons math 
 package.  http://commons.apache.org/proper/commons-math/
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#applyCosineTaper-double:A-int-int-">applyCosineTaper</a></span>(double[]&nbsp;array,
                int&nbsp;startrange,
                int&nbsp;endrange)</code>
<div class="block">This method adds the half cosine taper to the front and back of the array</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#calcSignalToNoiseRatio-double:A-int-">calcSignalToNoiseRatio</a></span>(double[]&nbsp;inArray,
                      int&nbsp;eonset)</code>
<div class="block">Calculates the signal-to-noise ratio (in decibels) of the input array, where
 the noise level is determined from the portion of the array from the start
 to the event onset.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#calculatePower-double:A-">calculatePower</a></span>(double[]&nbsp;inArray)</code>
<div class="block">Calculate the power of an array by squaring each element of the array.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#centralDiff-double:A-double-int-">centralDiff</a></span>(double[]&nbsp;inarr,
           double&nbsp;dt,
           int&nbsp;order)</code>
<div class="block">Central difference, adapted from matlab, computes an n-point central
 difference with spacing dt, n is the order
 Differences for points near the edges are calculated with lower order.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#convertArrayUnits-double:A-double-">convertArrayUnits</a></span>(double[]&nbsp;inArray,
                 double&nbsp;conversion)</code>
<div class="block">Converts a floating (double) point array of one data unit type to another
 based on the conversion factor.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#correctForZeroInitialEstimate-double:A-int-">correctForZeroInitialEstimate</a></span>(double[]&nbsp;array,
                             int&nbsp;upperlim)</code>
<div class="block">To be called after the Integrate (time domain) method, this method corrects for an unknown
 initial value in the integration.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#countsToPhysicalValues-int:A-double-">countsToPhysicalValues</a></span>(int[]&nbsp;inArray,
                      double&nbsp;countConv)</code>
<div class="block">Converts raw trace counts to physical values by multiplying the integer
 counts in the input array by the count conversion factor.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#differentiate-double:A-double-">differentiate</a></span>(double[]&nbsp;array,
             double&nbsp;dt)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#differentiate-double:A-double-int-">differentiate</a></span>(double[]&nbsp;array,
             double&nbsp;dt,
             int&nbsp;order)</code>
<div class="block">Wrapper for the new centralDiff algorithm for differentiation.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findAndRemoveMean-double:A-">findAndRemoveMean</a></span>(double[]&nbsp;inArray)</code>
<div class="block">Finds the mean of the input array and then removes the mean from the array.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findClosestFreq-double:A-double-">findClosestFreq</a></span>(double[]&nbsp;inarr,
               double&nbsp;infreq)</code>
<div class="block">Given an array of frequencies and a target frequency, find the index
 in the array of the nearest frequency to the target frequency</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findLinearTrend-double:A-double-">findLinearTrend</a></span>(double[]&nbsp;array,
               double&nbsp;timestep)</code>
<div class="block">Fit a linear trend (mx + b) to the input array with the given 
 time step.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findPolynomialTrend-double:A-int-double-">findPolynomialTrend</a></span>(double[]&nbsp;array,
                   int&nbsp;degree,
                   double&nbsp;timestep)</code>
<div class="block">Finds a polynomial trend of specified degree from the input array.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findStandardDev-double:A-">findStandardDev</a></span>(double[]&nbsp;inarr)</code>
<div class="block">This is a wrapper for the findStandardDev method with an input parameter
 that sets the normalization to either sample or population.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findStandardDev-double:A-boolean-">findStandardDev</a></span>(double[]&nbsp;inarr,
               boolean&nbsp;sample)</code>
<div class="block">Finds the standard deviation of the input array.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findSubsetMean-double:A-int-int-">findSubsetMean</a></span>(double[]&nbsp;array,
              int&nbsp;start,
              int&nbsp;end)</code>
<div class="block">Finds the mean of values in a subset of the input array.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findTrendWithBestFit-double:A-double-">findTrendWithBestFit</a></span>(double[]&nbsp;inarr,
                    double&nbsp;timestep)</code>
<div class="block">Tests the input array to see if a first or second order polynomial makes
 a better fit for the data, and then returns the trend with the best fit.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#findZeroCrossing-double:A-int-int-">findZeroCrossing</a></span>(double[]&nbsp;inArray,
                int&nbsp;start,
                int&nbsp;stop)</code>
<div class="block">Finds the first zero crossing in the input array, working either from the
 front or the back of the array.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#integrate-double:A-double-double-">integrate</a></span>(double[]&nbsp;array,
         double&nbsp;dt,
         double&nbsp;init)</code>
<div class="block">Calculates the approximate integral of the input array in the time domain 
 using the trapezoidal method.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#interpolate-double:A-double:A-double:A-int-">interpolate</a></span>(double[]&nbsp;xvals,
           double[]&nbsp;yvals,
           double[]&nbsp;outx,
           int&nbsp;degree)</code>
<div class="block">Interpolates values based on a polynomial function.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#makeFreqArray-double-int-">makeFreqArray</a></span>(double&nbsp;timestep,
             int&nbsp;arraylen)</code>
<div class="block">Make an array of frequency values, starting at 1 and incrementing by a frequency step
 to make the array.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#makeTimeArray-double-int-">makeTimeArray</a></span>(double&nbsp;timestep,
             int&nbsp;arraylen)</code>
<div class="block">Make an array of time values, starting at 0 and incrementing by time step
 to make an array of length arraylen.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#perform3PtSmoothing-double:A-">perform3PtSmoothing</a></span>(double[]&nbsp;inArray)</code>
<div class="block">Performs a 3-point smoothing on the input array, using the algorithm:
 new val = 0.5 * current val + 0.25 * (previous val + next val)</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#removeLinearTrend-double:A-double-">removeLinearTrend</a></span>(double[]&nbsp;array,
                 double&nbsp;timestep)</code>
<div class="block">Removes a linear trend (mx + b) from the input array with the given 
 time step.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#removeLinearTrendFromSubArray-double:A-double:A-double-">removeLinearTrendFromSubArray</a></span>(double[]&nbsp;array,
                             double[]&nbsp;subarray,
                             double&nbsp;timestep)</code>
<div class="block">Removes a linear trend from an array, where the linear trend is calculated
 from another array.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#removePolynomialTrend-double:A-double:A-double-">removePolynomialTrend</a></span>(double[]&nbsp;array,
                     double[]&nbsp;coefs,
                     double&nbsp;timestep)</code>
<div class="block">Removes a polynomial trend from the input array, with the trend defined
 by the array of coefficients.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#removeTrendWithBestFit-double:A-double-">removeTrendWithBestFit</a></span>(double[]&nbsp;inarr,
                      double&nbsp;timestep)</code>
<div class="block">Tests the input array to see if a first or second order polynomial makes
 a better fit for the data, and then removes the trend with the best fit.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#removeValue-double:A-double-">removeValue</a></span>(double[]&nbsp;array,
           double&nbsp;val)</code>
<div class="block">Removes the given value from each entry in the array.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../SmProcessing/ArrayOps.html#rootMeanSquare-double:A-double:A-">rootMeanSquare</a></span>(double[]&nbsp;orig,
              double[]&nbsp;est)</code>
<div class="block">Calculates the root mean square (rms) value for the input array</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="removeValue-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeValue</h4>
<pre>public static&nbsp;boolean&nbsp;removeValue(double[]&nbsp;array,
                                  double&nbsp;val)</pre>
<div class="block">Removes the given value from each entry in the array.
 This method allows for the removal of a mean that was calculated on
 a subset of another array, or removal of the median.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array to have value removed from, this array is modified</dd>
<dd><code>val</code> - pre-calculated value to remove from the array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if calculation performed, false if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="removeLinearTrend-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeLinearTrend</h4>
<pre>public static&nbsp;boolean&nbsp;removeLinearTrend(double[]&nbsp;array,
                                        double&nbsp;timestep)</pre>
<div class="block">Removes a linear trend (mx + b) from the input array with the given 
 time step.  The linear trend is calculated internally using apache commons
 math simple regression class.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array to have linear trend removed from, this array is modified</dd>
<dd><code>timestep</code> - the sample interval of the input array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if calculation performed, false if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="findLinearTrend-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findLinearTrend</h4>
<pre>public static&nbsp;double[]&nbsp;findLinearTrend(double[]&nbsp;array,
                                       double&nbsp;timestep)</pre>
<div class="block">Fit a linear trend (mx + b) to the input array with the given 
 time step.  The linear trend is calculated internally using apache commons
 math simple regression class.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array to have linear trend fitted from</dd>
<dd><code>timestep</code> - the sample interval of the input array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new array with linear trend function, or array of length 0 if input
 parameters are invalid.</dd>
</dl>
</li>
</ul>
<a name="removeLinearTrendFromSubArray-double:A-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeLinearTrendFromSubArray</h4>
<pre>public static&nbsp;boolean&nbsp;removeLinearTrendFromSubArray(double[]&nbsp;array,
                                                    double[]&nbsp;subarray,
                                                    double&nbsp;timestep)</pre>
<div class="block">Removes a linear trend from an array, where the linear trend is calculated
 from another array.  This can be used where a portion of an array (the
 subset array) is used to determine a linear trend, and then the trend
 is removed from the entire array.  It is assumed that both arrays use
 the same time step.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array to have the linear trend removed from, this array is modified</dd>
<dd><code>subarray</code> - input array to use to calculate the linear trend. This
 array is not modified in the process.</dd>
<dd><code>timestep</code> - the sample interval of the input array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if calculation performed, false if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="makeTimeArray-double-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeTimeArray</h4>
<pre>public static&nbsp;double[]&nbsp;makeTimeArray(double&nbsp;timestep,
                                     int&nbsp;arraylen)</pre>
<div class="block">Make an array of time values, starting at 0 and incrementing by time step
 to make an array of length arraylen.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestep</code> - sample interval</dd>
<dd><code>arraylen</code> - length of desired array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of times, starting at 0, or an array of 0 length if
 input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="makeFreqArray-double-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeFreqArray</h4>
<pre>public static&nbsp;double[]&nbsp;makeFreqArray(double&nbsp;timestep,
                                     int&nbsp;arraylen)</pre>
<div class="block">Make an array of frequency values, starting at 1 and incrementing by a frequency step
 to make the array.  The frequency step is calculated as 1 / (timestep * arraylen)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestep</code> - timestep dt</dd>
<dd><code>arraylen</code> - length of frequency array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of freq, starting at (1/N*dt), or an array of 0 length if
 input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="findSubsetMean-double:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findSubsetMean</h4>
<pre>public static&nbsp;double&nbsp;findSubsetMean(double[]&nbsp;array,
                                    int&nbsp;start,
                                    int&nbsp;end)</pre>
<div class="block">Finds the mean of values in a subset of the input array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - array to get the sub-array from</dd>
<dd><code>start</code> - starting index of the subset array in the input array</dd>
<dd><code>end</code> - ending index of the subset array in the input array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>mean of the values in the sub-array, or Double.MIN_VALUE if
 input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="integrate-double:A-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>integrate</h4>
<pre>public static&nbsp;double[]&nbsp;integrate(double[]&nbsp;array,
                                 double&nbsp;dt,
                                 double&nbsp;init)</pre>
<div class="block">Calculates the approximate integral of the input array in the time domain 
 using the trapezoidal method.
 The spacing between each point is dt.  The value in the init
 input variable is used as the first value in the integration calculations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - array to be integrated</dd>
<dd><code>dt</code> - the time step in seconds</dd>
<dd><code>init</code> - initial value to use in the integration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new array containing the approximate integral of the input points,
 or an array of 0 length if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="correctForZeroInitialEstimate-double:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>correctForZeroInitialEstimate</h4>
<pre>public static&nbsp;void&nbsp;correctForZeroInitialEstimate(double[]&nbsp;array,
                                                 int&nbsp;upperlim)</pre>
<div class="block">To be called after the Integrate (time domain) method, this method corrects for an unknown
 initial value in the integration. This method calls the findZeroCrossing
 method to locate the first zero crossing in the array between the upper limit
 input parameter and the start of the array, working from the upper limit
 backwards towards the start. If a zero crossing is found, the mean of the
 array subset (from 0 to zero crossing) is calculated and removed from the
 entire array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array to make the correction on</dd>
<dd><code>upperlim</code> - upper limit index of the array, defining the window within
 which to look for any offset introduced by an initial integration estimate of 0</dd>
</dl>
</li>
</ul>
<a name="differentiate-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>differentiate</h4>
<pre>public static&nbsp;double[]&nbsp;differentiate(double[]&nbsp;array,
                                     double&nbsp;dt)</pre>
</li>
</ul>
<a name="differentiate-double:A-double-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>differentiate</h4>
<pre>public static&nbsp;double[]&nbsp;differentiate(double[]&nbsp;array,
                                     double&nbsp;dt,
                                     int&nbsp;order)</pre>
<div class="block">Wrapper for the new centralDiff algorithm for differentiation.
 Calculates the approximate derivative in the time domain of the input array.
 This is the time domain method of differentiation, while the freq domain
 differentiation is in a separate class.  The freq domain method applies
 half-cosine tapering at the beginning and end of the array prior to 
 differentiation, while centralDiff does not.
 Wrapper for the centralDiff algorithm for differentiation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - the input array to be differentiated</dd>
<dd><code>dt</code> - seconds per sample</dd>
<dd><code>order</code> - the differentiation order from the configuration file.  If
 unsure what order value to use, 5 should work well enough.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>differentiated array</dd>
</dl>
</li>
</ul>
<a name="findPolynomialTrend-double:A-int-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findPolynomialTrend</h4>
<pre>public static&nbsp;double[]&nbsp;findPolynomialTrend(double[]&nbsp;array,
                                           int&nbsp;degree,
                                           double&nbsp;timestep)</pre>
<div class="block">Finds a polynomial trend of specified degree from the input array.  The
 polynomial trend is calculated with the apache commons math 
 PolynomialCurveFitter class, and the coefficients are returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array containing data with a polynomial trend.</dd>
<dd><code>degree</code> - polynomial degree to calculate, such as 2 or 3.</dd>
<dd><code>timestep</code> - sample interval</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>array of coefficients or an array of 0 length if input parameters
 are invalid</dd>
</dl>
</li>
</ul>
<a name="interpolate-double:A-double:A-double:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>interpolate</h4>
<pre>public static&nbsp;double[]&nbsp;interpolate(double[]&nbsp;xvals,
                                   double[]&nbsp;yvals,
                                   double[]&nbsp;outx,
                                   int&nbsp;degree)</pre>
<div class="block">Interpolates values based on a polynomial function.  The function is 
 created from an input set of x and y values. A set of x values is then
 used with the polynomial function to interpolate a corresponding set 
 of y values. NOTE: this method is currently only implemented for linear
 interpolation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xvals</code> - input x data points to create the function</dd>
<dd><code>yvals</code> - input y data points to create the function</dd>
<dd><code>outx</code> - output x data points to use for interpolation</dd>
<dd><code>degree</code> - The degree of the polynomial to be fitted to the input points,
 currently limited to degree 1 (linear) polynomials</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the interpolated y values generated from outx</dd>
</dl>
</li>
</ul>
<a name="removePolynomialTrend-double:A-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removePolynomialTrend</h4>
<pre>public static&nbsp;boolean&nbsp;removePolynomialTrend(double[]&nbsp;array,
                                            double[]&nbsp;coefs,
                                            double&nbsp;timestep)</pre>
<div class="block">Removes a polynomial trend from the input array, with the trend defined
 by the array of coefficients.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array to remove the polynomial trend from, this array is modified</dd>
<dd><code>coefs</code> - array of coefficients defining the polynomial trend.  These 
 coefficients are returned from the findPolynomialTrend method.</dd>
<dd><code>timestep</code> - sample interval</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if calculation performed, false if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="rootMeanSquare-double:A-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rootMeanSquare</h4>
<pre>public static&nbsp;double&nbsp;rootMeanSquare(double[]&nbsp;orig,
                                    double[]&nbsp;est)</pre>
<div class="block">Calculates the root mean square (rms) value for the input array</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orig</code> - original array to calculate rms for</dd>
<dd><code>est</code> - estimated array to compare with the original</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the rms value or -1 if input arrays are invalid</dd>
</dl>
</li>
</ul>
<a name="removeTrendWithBestFit-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeTrendWithBestFit</h4>
<pre>public static&nbsp;int&nbsp;removeTrendWithBestFit(double[]&nbsp;inarr,
                                         double&nbsp;timestep)</pre>
<div class="block">Tests the input array to see if a first or second order polynomial makes
 a better fit for the data, and then removes the trend with the best fit.
 Best fit is determined by calculating the root mean square error between
 the input data and the baseline trend.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inarr</code> - array to have best fit trend removed, this array is modified</dd>
<dd><code>timestep</code> - sample interval</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>order of best fit polynomial, or -1 if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="findTrendWithBestFit-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findTrendWithBestFit</h4>
<pre>public static&nbsp;double[]&nbsp;findTrendWithBestFit(double[]&nbsp;inarr,
                                            double&nbsp;timestep)</pre>
<div class="block">Tests the input array to see if a first or second order polynomial makes
 a better fit for the data, and then returns the trend with the best fit.
 Best fit is determined by calculating the root mean square error between
 the input data and the baseline trend.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inarr</code> - array to have best fit trend fitted, this array is not modified</dd>
<dd><code>timestep</code> - sample interval</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>array of polynomial coefficients, or array of length 0 if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="countsToPhysicalValues-int:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countsToPhysicalValues</h4>
<pre>public static&nbsp;double[]&nbsp;countsToPhysicalValues(int[]&nbsp;inArray,
                                              double&nbsp;countConv)</pre>
<div class="block">Converts raw trace counts to physical values by multiplying the integer
 counts in the input array by the count conversion factor.  The result is
 a floating point array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inArray</code> - input integer array to be converted</dd>
<dd><code>countConv</code> - conversion factor to multiply by</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>floating (double) point array of physical values or array of 0 
 length if input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="findAndRemoveMean-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAndRemoveMean</h4>
<pre>public static&nbsp;double&nbsp;findAndRemoveMean(double[]&nbsp;inArray)</pre>
<div class="block">Finds the mean of the input array and then removes the mean from the array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inArray</code> - input double array, this array is modified when the mean is removed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>double value of the calculated mean, or Double.MIN_VALUE if the
 input array is invalid</dd>
</dl>
</li>
</ul>
<a name="calculatePower-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculatePower</h4>
<pre>public static&nbsp;double[]&nbsp;calculatePower(double[]&nbsp;inArray)</pre>
<div class="block">Calculate the power of an array by squaring each element of the array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inArray</code> - input double array, is not modified during calculations</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>power array of same length or double[0] is the input array is
 invalid</dd>
</dl>
</li>
</ul>
<a name="calcSignalToNoiseRatio-double:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcSignalToNoiseRatio</h4>
<pre>public static&nbsp;double&nbsp;calcSignalToNoiseRatio(double[]&nbsp;inArray,
                                            int&nbsp;eonset)</pre>
<div class="block">Calculates the signal-to-noise ratio (in decibels) of the input array, where
 the noise level is determined from the portion of the array from the start
 to the event onset.  
 Equation is snr = 10*log10(avg signal power / avg noise power)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inArray</code> - input double array, not modified during calculations</dd>
<dd><code>eonset</code> - array index where the event onset was detected</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the signal-to-noise ratio if successfully calculated, or -1 if
 the input array or event onset were invalid or if the power of the noise
 array is 0.</dd>
</dl>
</li>
</ul>
<a name="applyCosineTaper-double:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyCosineTaper</h4>
<pre>public static&nbsp;boolean&nbsp;applyCosineTaper(double[]&nbsp;array,
                                       int&nbsp;startrange,
                                       int&nbsp;endrange)</pre>
<div class="block">This method adds the half cosine taper to the front and back of the array</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>array</code> - input array to have the taper applied to. This array is modified.</dd>
<dd><code>startrange</code> - the number of elements at the front and back of the array that the
 taper should be applied to. The length of the half cosine taper
 itself is 1/2 of the range.</dd>
<dd><code>endrange</code> - the number of elements at the back of the array that the taper 
 should be applied to. The length of the half cosine taper
 itself is 1/2 of the end range.
 Setting startrange and endrange both to 0 bypasses tapering</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if taper applied, false if input data is invalid</dd>
</dl>
</li>
</ul>
<a name="convertArrayUnits-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertArrayUnits</h4>
<pre>public static&nbsp;double[]&nbsp;convertArrayUnits(double[]&nbsp;inArray,
                                         double&nbsp;conversion)</pre>
<div class="block">Converts a floating (double) point array of one data unit type to another
 based on the conversion factor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inArray</code> - input array to be converted</dd>
<dd><code>conversion</code> - conversion factor for multiplication</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array of converted values or array of zero length if input
 parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="perform3PtSmoothing-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>perform3PtSmoothing</h4>
<pre>public static&nbsp;double[]&nbsp;perform3PtSmoothing(double[]&nbsp;inArray)</pre>
<div class="block">Performs a 3-point smoothing on the input array, using the algorithm:
 new val = 0.5 * current val + 0.25 * (previous val + next val)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inArray</code> - array to be smoothed, this array is not modified</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new array that has been smoothed or array of zero length if input
 parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="findZeroCrossing-double:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findZeroCrossing</h4>
<pre>public static&nbsp;int&nbsp;findZeroCrossing(double[]&nbsp;inArray,
                                   int&nbsp;start,
                                   int&nbsp;stop)</pre>
<div class="block">Finds the first zero crossing in the input array, working either from the
 front or the back of the array.  The zero crossing is determined by 
 multiplying the current value with the previous value and checking if the
 sign is negative.  This indicates where in the array the values shift
 from positive to negative or negative to positive.  This method stops when
 it finds the first crossing within the specified window and returns the
 index of the first value in the pair being tested.  If the start value is
 smaller than the stop value, the search will begin at start and move forward
 to the stop index.  If start is greater than stop, search will begin at
 start and move backwards through the array to the stop index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inArray</code> - the input array to find the zero crossing</dd>
<dd><code>start</code> - index in the array to start the search</dd>
<dd><code>stop</code> - index in the array to stop the search</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the index of the zero crossing, or -1 if no crossing found, -2 if 
 input parameters are invalid</dd>
</dl>
</li>
</ul>
<a name="findStandardDev-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findStandardDev</h4>
<pre>public static&nbsp;double&nbsp;findStandardDev(double[]&nbsp;inarr)</pre>
<div class="block">This is a wrapper for the findStandardDev method with an input parameter
 that sets the normalization to either sample or population.  For this method,
 the input parameters is set to 'sample' (divide by N - 1).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inarr</code> - input array for standard deviation calculation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the calculated standard deviation if the stat array has a valid
 length, or Double.MAX_VALUE if the array length is 0 or 1.</dd>
</dl>
</li>
</ul>
<a name="findStandardDev-double:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findStandardDev</h4>
<pre>public static&nbsp;double&nbsp;findStandardDev(double[]&nbsp;inarr,
                                     boolean&nbsp;sample)</pre>
<div class="block">Finds the standard deviation of the input array.
 The standard deviation can be normalized according to sample
 (N-1) or population (N), depending on the input parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inarr</code> - input array for standard deviation calculation</dd>
<dd><code>sample</code> - boolean flag, if true and array represents a sample, stdev
 is normalized by N-1 (where N is the number of elements in the
 input array).  If false, stdev is normalized by N (population)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the calculated standard deviation if the stat array has a valid
 length, or Double.MAX_VALUE if the array length is 0 or 1.</dd>
</dl>
</li>
</ul>
<a name="findClosestFreq-double:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findClosestFreq</h4>
<pre>public static&nbsp;int&nbsp;findClosestFreq(double[]&nbsp;inarr,
                                  double&nbsp;infreq)</pre>
<div class="block">Given an array of frequencies and a target frequency, find the index
 in the array of the nearest frequency to the target frequency</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inarr</code> - array of frequencies</dd>
<dd><code>infreq</code> - frequency to look for in array (there may not be an exact match)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>index of array with frequency value close to target frequency</dd>
</dl>
</li>
</ul>
<a name="centralDiff-double:A-double-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>centralDiff</h4>
<pre>public static&nbsp;double[]&nbsp;centralDiff(double[]&nbsp;inarr,
                                   double&nbsp;dt,
                                   int&nbsp;order)</pre>
<div class="block">Central difference, adapted from matlab, computes an n-point central
 difference with spacing dt, n is the order
 Differences for points near the edges are calculated with lower order.
 Differencing formulae from: 
 http://www.holoborodko.com/pavel/numerical-methods/numerical-derivative/central-differences/</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inarr</code> - vector with evenly spaced points, this array is not modified</dd>
<dd><code>dt</code> - time spacing between points in seconds</dd>
<dd><code>order</code> - valid orders are 3,5,7,9</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new differentiated array</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ArrayOps.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../SmProcessing/AICEventDetect.html" title="class in SmProcessing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../SmProcessing/ArrayStats.html" title="class in SmProcessing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?SmProcessing/ArrayOps.html" target="_top">Frames</a></li>
<li><a href="ArrayOps.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
